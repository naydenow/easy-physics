<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Easy physics</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="../ephysics.js" type="text/javascript"></script>
        <script src="../render.js" type="text/javascript"></script>
    </head>

    <body>
    	<canvas id="canvas"  width="200px" height="200px" ></canvas>
    </body>

        <style type="text/css">
      canvas { border: 1px solid black; 
 }
    </style>

<script type="text/javascript">
	var objects = [];
	var rerder = new Render( document.getElementById('canvas') , objects);
	var line = new Line(
		new Vector(0,0),
		0,
		[
		 new Vector(0,0), 
		 new Vector(50,50)
		]);

	var line2 = new Line(
		new Vector(0,0),
		0,
		[
		 new Vector(58,10), 
		 new Vector(58,100)
		]);

	var line3 = new Line(
		new Vector(0,0),
		0,
		[
		 new Vector(-58,10), 
		 new Vector(58,-100)
		]);

	objects.push( line );
	objects.push( line2 );
	objects.push( line3 );

	function loop(){
		rerder.render();
		requestAnimationFrame(loop);
		line.angle  +=0.01;
		collision();
	}

	function collision(){
		var p;
		if ((p = line.IsLineCross(line2)) !== false){
			line2.color = '#f00000';
		} else {
			line2.color = '#000000';
		}

		if ((p = line.IsLineCross(line3)) !== false){
			line3.color = '#f00000';
		} else {
			line3.color = '#000000';
		}
	}

	loop();
</script>
</html>